<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Top_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="IGHelp.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Manage and Maintain">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="description" content="This topic describes how you restore backed up data to your IG Server." />
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" /><title>Restore IG Server database</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.5.5.0.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/Tablestyles/ClearswiftBasic.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Clearswift/Generic.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.5.5.0_custom.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.offcanvas.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap">
            <div class="off-canvas-wrap" data-offcanvas="">
                <section class="inner-wrap">
                    <nav class="tab-bar" data-mc-ignore="true">
                        <section class="middle tab-bar-section outer-row clearfix">
                            <div class="relative clearfix"><a class="logo" href="../../Home.htm" alt="Logo"></a>
                                <div class="navigation-wrapper">
                                    <ul class="navigation clearfix">
                                        <li><a href="../GetStarted/GSJumpOff.htm">Get Started</a>
                                        </li>
                                        <li><a href="../Configure/CONJumpOff.htm">Configure</a>
                                        </li>
                                        <li><a href="../ProtectYourContent/WRKCONTENTJumpOff.htm">Protect your Content</a>
                                        </li>
                                        <li><a href="MOMJumpOff.htm">Manage and Maintain</a>
                                        </li>
                                        <li><a href="../Report/REPJumpOff.htm">Report</a>
                                        </li>
                                        <li><a href="../Reference/REFJumpOff.htm">Reference</a>
                                        </li>
                                        <li><a href="../Introduction/INTROKnownIssues.htm">Known issues in this release</a>
                                        </li>
                                        <li><a href="../Legal/LegalCopyrightAndTrademarks.htm">Legal</a>
                                        </li>
                                    </ul>
                                </div><a class="menu-icon right-off-canvas-toggle" href="#"><span></span></a>
                            </div>
                        </section>
                        <div class="nav-search row outer-row">
                            <form class="search" action="#">
                                <div class="search-bar search-bar-container needs-pie">
                                    <input class="search-field needs-pie" type="search" placeholder="What can we help you find?" />
                                    <div class="search-filter-wrapper">
                                        <div class="search-filter">
                                            <div class="search-filter-content">
                                                <ul>
                                                    <li>All Files</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="search-submit-wrapper" dir="ltr">
                                        <div class="search-submit" title="Search">
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </nav>
                    <aside class="right-off-canvas-menu" data-mc-ignore="true">
                        <ul class="off-canvas-list" data-mc-back-link="Back" data-mc-css-tree-node-expanded="has-submenu" data-mc-css-tree-node-collapsed="has-submenu" data-mc-css-sub-menu="right-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.fndtn.offcanvas" data-mc-toc="True">
                        </ul>
                    </aside>
                    <section class="main-section">
                        <div class="row outer-row" data-mc-content-body="True">
                            <form class="search" action="#">
                                <div class="search-bar search-bar-container needs-pie _Skins_HomeSearchBar mc-component">
                                    <input class="search-field needs-pie" type="search" placeholder="What can we find for you?" />
                                    <div class="search-filter-wrapper">
                                        <div class="search-filter">
                                            <div class="search-filter-content">
                                                <ul>
                                                    <li>All Files</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="search-submit-wrapper" dir="ltr">
                                        <div class="search-submit" title="What can we find">
                                        </div>
                                    </div>
                                </div>
                            </form>
                            <p>&#160;</p>
                            <div class="OtherTopic-8-4">
                                <div>
                                    <h1>Restore IG Server database</h1>
                                    <p>You can restore backed up data to your IG Server  by running a supplied script from a Clearswift Server Console terminal session.</p>
                                    <p>The restore will stop all the IG Server services so connectivity to the IG Server will be lost while the process takes place.</p>
                                    <p class="nota" data-mc-autonum="&lt;span style=&quot;color: #000000;&quot; class=&quot;mcFormatColor&quot;&gt;&lt;b&gt;Note: &#160;&lt;/b&gt;&lt;/span&gt;"><span class="autonumber"><span class="note"><span style="color: #000000;" class="mcFormatColor"><b>Note: &#160;</b></span></span></span>If you are restoring your database on to a new IG Server installation, for example where you have moved your IG Server  to a new machine, you will need to run the installation wizard before the restore to ensure that your IG Server is configured correctly. The overall steps are:<ol><li value="1">Install IG Server.</li><li value="2">Complete the IG Server installation wizard.</li><li value="3">Restore the database backup.</li></ol><p>Information on IG Server installation and wizard completion can be found in the <a href="../../Resources/Downloads/IG Server Installation and Getting Started Guide.pdf" class="MCTopic MCTopicPopupHotSpot a" title="Clearswift Information Governance Server Installation &amp; Getting Started&#xA;Guide">Clearswift Information Governance Server Installation &amp; Getting Started
Guide</a>.</p></p>
                                    <h4 style="font-family: 'Trebuchet MS';">How do I...</h4>
                                    <ul>
                                        <li value="1">
                                            <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Run the Restore script?</a></span>
                                                <div class="MCDropDownBody dropDownBody">
                                                    <ol>
                                                        <li value="1">
                                                            <p>From the Clearswift Server Console, select <span class="UserInterfaceButton">Open Terminal Session</span>.</p>
                                                            <p>A terminal session window is displayed.</p>
                                                        </li>
                                                        <li value="2">
                                                            <p>To restore from a locally mounted partition, type the following from the command line:</p><pre class="Boxed" xml:space="preserve">sudo /usr/bin/igp-restoredatabase [-v] [-q] [-d <span class="CharacterItalic">DBDATADIR</span>] -b <span class="CharacterItalic">DBBACKUPDIR</span>  </pre>
                                                            <p>To restore from a remote server via SSH, type the following from the command line:</p><pre class="Boxed" xml:space="preserve">sudo /usr/bin/igp-restoredatabase [-v] [-q] [-d <span class="CharacterItalic">DBDATADIR</span>] -b <span class="CharacterItalic">DBBACKUPDIR</span> -u <span class="CharacterItalic">REMOTEUSER</span> -s <span class="CharacterItalic">REMOTESERVER</span></pre>
                                                            <p>where:</p>
                                                            <table style="mc-table-style: url('../../Resources/TableStyles/ClearswiftBasic.css');margin-left: 0;margin-right: auto;caption-side: top;mc-caption-repeat: true;" class="TableStyle-ClearswiftBasic" cellspacing="2">
                                                                <col class="TableStyle-ClearswiftBasic-Column-Column1" />
                                                                <col class="TableStyle-ClearswiftBasic-Column-Column2" />
                                                                <thead>
                                                                    <tr class="TableStyle-ClearswiftBasic-Head-Header1">
                                                                        <th class="TableStyle-ClearswiftBasic-HeadE-Column1-Header1">Switch</th>
                                                                        <th class="TableStyle-ClearswiftBasic-HeadD-Column2-Header1">Description</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr class="TableStyle-ClearswiftBasic-Body-Body1">
                                                                        <td class="TableStyle-ClearswiftBasic-BodyE-Column1-Body1">-v </td>
                                                                        <td class="TableStyle-ClearswiftBasic-BodyD-Column2-Body1">Verbose. Provides detailed output status.</td>
                                                                    </tr>
                                                                    <tr class="TableStyle-ClearswiftBasic-Body-Body2">
                                                                        <td class="TableStyle-ClearswiftBasic-BodyE-Column1-Body2">-q</td>
                                                                        <td class="TableStyle-ClearswiftBasic-BodyD-Column2-Body2">Quiet. Suppresses user confirmation prompts.</td>
                                                                    </tr>
                                                                    <tr class="TableStyle-ClearswiftBasic-Body-Body1">
                                                                        <td class="TableStyle-ClearswiftBasic-BodyE-Column1-Body1">-d <span class="CharacterItalic">DBDATADIR</span></td>
                                                                        <td class="TableStyle-ClearswiftBasic-BodyD-Column2-Body1">Path of source database files to back up.</td>
                                                                    </tr>
                                                                    <tr class="TableStyle-ClearswiftBasic-Body-Body2">
                                                                        <td class="TableStyle-ClearswiftBasic-BodyE-Column1-Body2">-b <span class="CharacterItalic">DBBACKUPDIR</span></td>
                                                                        <td class="TableStyle-ClearswiftBasic-BodyD-Column2-Body2">
                                                                            <p>Path containing the backup files.</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-ClearswiftBasic-Body-Body1">
                                                                        <td class="TableStyle-ClearswiftBasic-BodyE-Column1-Body1">-u <span class="CharacterItalic">REMOTEUSER</span></td>
                                                                        <td class="TableStyle-ClearswiftBasic-BodyD-Column2-Body1">
                                                                            <p>User account used to connect  to the remote server where the backup is stored.</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-ClearswiftBasic-Body-Body2">
                                                                        <td class="TableStyle-ClearswiftBasic-BodyB-Column1-Body2">-s <span class="CharacterItalic">REMOTESERVER</span></td>
                                                                        <td class="TableStyle-ClearswiftBasic-BodyA-Column2-Body2">Host name or IP address of the remote server where the backup will be restored from.</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </li>
                                                    </ol>
                                                    <p class="tip" data-mc-autonum="&lt;span style=&quot;color: #8b4513;&quot; class=&quot;mcFormatColor&quot;&gt;&lt;b&gt;Tip: &#160;&lt;/b&gt;&lt;/span&gt;"><span class="autonumber"><span class="tip"><span style="color: #8b4513;" class="mcFormatColor"><b>Tip: &#160;</b></span></span></span>Type <span class="CommandLineCommand">sudo igp-restoredatabase -h</span> from the command line for command specific help.</p>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                    <h4 style="font-family: 'Trebuchet MS';">See also...</h4>
                                    <ul>
                                        <li value="1"><a href="MOMBackupDB.htm" title="Back up IG Server database" alt="Back up IG Server database">Back up IG Server database</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="sideContent">
                                    <ul class="menu _Skins_SideMenu mc-component">
                                        <li class="has-children"><a href="MOMJumpOff.htm">Manage and Maintain</a>
                                            <ul class="sub-menu">
                                                <li><a href="MOMIntro.htm">Monitor IG Server</a>
                                                </li>
                                                <li><a href="MOMApplyUpdates.htm">Apply IG Server updates</a>
                                                </li>
                                                <li><a href="MOMBackupDB.htm">Back up IG Server database</a>
                                                </li>
                                                <li><a href="#" class="selected">Restore IG Server database</a>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </section><a class="exit-off-canvas"></a>
                </section>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>